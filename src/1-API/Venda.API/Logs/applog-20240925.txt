2024-09-25 14:18:20.965 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:18:21.008 -03:00 [DBG] Hosting starting
2024-09-25 14:18:21.080 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:18:21.123 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:18:21.126 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:18:21.150 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:18:21.236 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:18:21.236 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:18:21.237 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:18:21.237 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:18:21.238 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:18:21.238 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:18:21.256 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 53856)
2024-09-25 14:18:21.264 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:18:21.264 -03:00 [INF] Hosting environment: Development
2024-09-25 14:18:21.265 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:18:21.266 -03:00 [DBG] Hosting started
2024-09-25 14:18:21.278 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_c1xoyybnipcbdmzmbdqp5boqye?temporary=true"
2024-09-25 14:18:21.278 -03:00 [DBG] Connection id "0HN6TGO72KMEF" received FIN.
2024-09-25 14:18:21.278 -03:00 [DBG] Connection id "0HN6TGO72KMEE" received FIN.
2024-09-25 14:18:21.282 -03:00 [DBG] Connection id "0HN6TGO72KMEE" accepted.
2024-09-25 14:18:21.282 -03:00 [DBG] Connection id "0HN6TGO72KMEF" accepted.
2024-09-25 14:18:21.283 -03:00 [DBG] Connection id "0HN6TGO72KMEE" started.
2024-09-25 14:18:21.283 -03:00 [DBG] Connection id "0HN6TGO72KMEF" started.
2024-09-25 14:18:21.284 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:18:21.292 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:18:21.292 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:18:21.301 -03:00 [DBG] Connection id "0HN6TGO72KMEE" stopped.
2024-09-25 14:18:21.301 -03:00 [DBG] Connection id "0HN6TGO72KMEF" stopped.
2024-09-25 14:18:21.303 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:18:21.305 -03:00 [DBG] Connection id "0HN6TGO72KMEF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:18:21.305 -03:00 [DBG] Connection id "0HN6TGO72KMEE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:18:21.307 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:18:21.309 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:18:21.335 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:18:21.357 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-nKgRbIR-Ny-Qa5O-NdeLIw
2024-09-25 14:18:21.358 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:18:21.360 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:18:21.467 -03:00 [DBG] Connection id "0HN6TGO72KMEG" accepted.
2024-09-25 14:18:21.468 -03:00 [DBG] Connection id "0HN6TGO72KMEG" started.
2024-09-25 14:18:21.486 -03:00 [DBG] Connection 0HN6TGO72KMEG established using the following protocol: "Tls13"
2024-09-25 14:18:21.509 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:18:21.544 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:18:21.551 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:18:21.552 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:18:21.576 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:18:21.578 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:18:21.585 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:18:21.586 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:18:21.587 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 81.4301ms
2024-09-25 14:18:21.591 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:18:21.591 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:18:21.598 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 7.061ms
2024-09-25 14:18:21.612 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.5297ms
2024-09-25 14:18:21.676 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:18:21.677 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:18:21.678 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:18:21.717 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.6579ms
2024-09-25 14:21:53.055 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-25 14:21:53.251 -03:00 [DBG] The property 'ItemVenda.VendaId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:21:53.252 -03:00 [DBG] The property 'Venda.ClienteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:21:53.301 -03:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2024-09-25 14:21:53.311 -03:00 [DBG] The property 'ItemVenda.VendaId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:21:53.312 -03:00 [DBG] The property 'Venda.ClienteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:21:53.533 -03:00 [DBG] 'AppDbContext' disposed.
2024-09-25 14:23:22.992 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:23:23.030 -03:00 [DBG] Hosting starting
2024-09-25 14:23:23.100 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:23:23.141 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:23:23.142 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:23:23.166 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:23:23.235 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:23:23.236 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:23:23.236 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:23:23.236 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:23:23.237 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:23:23.237 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:23:23.256 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54036)
2024-09-25 14:23:23.257 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:23:23.257 -03:00 [INF] Hosting environment: Development
2024-09-25 14:23:23.258 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:23:23.258 -03:00 [DBG] Hosting started
2024-09-25 14:23:23.269 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_4npoyybnipcbnzxabdqp5bsnyp?temporary=true"
2024-09-25 14:23:23.275 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:23:23.287 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:23:23.289 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:23:23.291 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:23:23.303 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:23:23.323 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-Xsm-14vOwAOHFcbgMFjgUw
2024-09-25 14:23:23.324 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:23:23.325 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:23:23.493 -03:00 [DBG] Connection id "0HN6TGR14PGPH" accepted.
2024-09-25 14:23:23.493 -03:00 [DBG] Connection id "0HN6TGR14PGPI" accepted.
2024-09-25 14:23:23.494 -03:00 [DBG] Connection id "0HN6TGR14PGPH" started.
2024-09-25 14:23:23.494 -03:00 [DBG] Connection id "0HN6TGR14PGPI" started.
2024-09-25 14:23:23.510 -03:00 [DBG] Connection id "0HN6TGR14PGPH" received FIN.
2024-09-25 14:23:23.510 -03:00 [DBG] Connection id "0HN6TGR14PGPI" received FIN.
2024-09-25 14:23:23.514 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:23:23.514 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:23:23.522 -03:00 [DBG] Connection id "0HN6TGR14PGPI" stopped.
2024-09-25 14:23:23.522 -03:00 [DBG] Connection id "0HN6TGR14PGPH" stopped.
2024-09-25 14:23:23.524 -03:00 [DBG] Connection id "0HN6TGR14PGPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:23:23.524 -03:00 [DBG] Connection id "0HN6TGR14PGPH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:23:24.704 -03:00 [DBG] Connection id "0HN6TGR14PGPJ" accepted.
2024-09-25 14:23:24.705 -03:00 [DBG] Connection id "0HN6TGR14PGPJ" started.
2024-09-25 14:23:24.727 -03:00 [DBG] Connection 0HN6TGR14PGPJ established using the following protocol: "Tls13"
2024-09-25 14:23:24.756 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:23:24.796 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:23:24.805 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:23:24.807 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:23:24.837 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:23:24.838 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:23:24.848 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:23:24.849 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:23:24.851 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 98.2936ms
2024-09-25 14:23:24.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:23:24.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:23:24.861 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 6.1197ms
2024-09-25 14:23:24.885 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2776ms
2024-09-25 14:23:24.908 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:23:24.911 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:23:24.911 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:23:24.964 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6748ms
2024-09-25 14:26:28.949 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:26:28.987 -03:00 [DBG] Hosting starting
2024-09-25 14:26:29.058 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:26:29.098 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:26:29.100 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:26:29.127 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:26:29.207 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:26:29.207 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:26:29.208 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:26:29.208 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:26:29.209 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:26:29.209 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:26:29.229 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:26:29.229 -03:00 [INF] Hosting environment: Development
2024-09-25 14:26:29.229 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54119)
2024-09-25 14:26:29.230 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:26:29.231 -03:00 [DBG] Hosting started
2024-09-25 14:26:29.248 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_aysyyybnipcbnu7fbdqp5b3o8r?temporary=true"
2024-09-25 14:26:29.258 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:26:29.284 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:26:29.287 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:26:29.289 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:26:29.316 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:26:29.337 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-D1k1xCUzsgMHK31uUA_Dng
2024-09-25 14:26:29.339 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:26:29.340 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:26:29.382 -03:00 [DBG] Connection id "0HN6TGSOHI6EF" accepted.
2024-09-25 14:26:29.383 -03:00 [DBG] Connection id "0HN6TGSOHI6EF" started.
2024-09-25 14:26:29.393 -03:00 [DBG] Connection id "0HN6TGSOHI6EG" accepted.
2024-09-25 14:26:29.394 -03:00 [DBG] Connection id "0HN6TGSOHI6EG" started.
2024-09-25 14:26:29.432 -03:00 [DBG] Connection id "0HN6TGSOHI6EF" received FIN.
2024-09-25 14:26:29.432 -03:00 [DBG] Connection id "0HN6TGSOHI6EG" received FIN.
2024-09-25 14:26:29.438 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:26:29.438 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:26:29.461 -03:00 [DBG] Connection id "0HN6TGSOHI6EF" stopped.
2024-09-25 14:26:29.461 -03:00 [DBG] Connection id "0HN6TGSOHI6EG" stopped.
2024-09-25 14:26:29.464 -03:00 [DBG] Connection id "0HN6TGSOHI6EG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:26:29.464 -03:00 [DBG] Connection id "0HN6TGSOHI6EF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:26:30.745 -03:00 [DBG] Connection id "0HN6TGSOHI6EH" accepted.
2024-09-25 14:26:30.745 -03:00 [DBG] Connection id "0HN6TGSOHI6EH" started.
2024-09-25 14:26:30.762 -03:00 [DBG] Connection 0HN6TGSOHI6EH established using the following protocol: "Tls13"
2024-09-25 14:26:30.786 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:26:30.822 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:26:30.829 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:26:30.830 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:26:30.855 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:26:30.856 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:26:30.864 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:26:30.865 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:26:30.867 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 82.8055ms
2024-09-25 14:26:30.869 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:26:30.869 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:26:30.873 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 4.0589ms
2024-09-25 14:26:30.891 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.8868ms
2024-09-25 14:26:30.909 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:26:30.910 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:26:30.910 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:26:30.950 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.2187ms
2024-09-25 14:27:53.905 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-25 14:27:54.102 -03:00 [DBG] The property 'ItemVenda.VendaId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:27:54.103 -03:00 [DBG] The property 'Venda.ClienteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:27:54.153 -03:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2024-09-25 14:27:54.163 -03:00 [DBG] Creating DbConnection.
2024-09-25 14:27:54.173 -03:00 [DBG] Created DbConnection. (9ms).
2024-09-25 14:27:54.176 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.209 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.210 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.213 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (2ms).
2024-09-25 14:27:54.216 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-25 14:27:54.219 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2024-09-25 14:27:54.220 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2024-09-25 14:27:54.220 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.230 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.233 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.257 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.258 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.259 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (1ms).
2024-09-25 14:27:54.261 -03:00 [DBG] Migrating using database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.262 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.266 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.266 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.267 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.268 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-25 14:27:54.268 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-25 14:27:54.269 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-09-25 14:27:54.270 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.270 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.271 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.273 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.274 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.274 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.275 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.279 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.279 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.280 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.308 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.309 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.309 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-25 14:27:54.310 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.311 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.311 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-09-25 14:27:54.323 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-09-25 14:27:54.323 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.324 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.325 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.329 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.329 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.330 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.331 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-25 14:27:54.331 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-25 14:27:54.332 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-09-25 14:27:54.332 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.333 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.333 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.335 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-09-25 14:27:54.336 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.336 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.338 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.338 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.339 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-25 14:27:54.339 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-25 14:27:54.340 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-25 14:27:54.341 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-25 14:27:54.342 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-25 14:27:54.344 -03:00 [DBG] Closing data reader to 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.345 -03:00 [DBG] A data reader for 'VendasDB' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2024-09-25 14:27:54.346 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.346 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.351 -03:00 [INF] Applying migration '20240925172153_InitialCreate'.
2024-09-25 14:27:54.362 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.363 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.364 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-25 14:27:54.366 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-25 14:27:54.366 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.367 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.367 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.368 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Clientes" (
    "Id" uuid NOT NULL,
    "Nome" text NOT NULL,
    CONSTRAINT "PK_Clientes" PRIMARY KEY ("Id")
);
2024-09-25 14:27:54.372 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Clientes" (
    "Id" uuid NOT NULL,
    "Nome" text NOT NULL,
    CONSTRAINT "PK_Clientes" PRIMARY KEY ("Id")
);
2024-09-25 14:27:54.373 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.373 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.374 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-25 14:27:54.375 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Vendas" (
    "Id" uuid NOT NULL,
    "Data" timestamp with time zone NOT NULL,
    "ClienteId" uuid NOT NULL,
    "Filial" text NOT NULL,
    "Cancelado" boolean NOT NULL,
    CONSTRAINT "PK_Vendas" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Vendas_Clientes_ClienteId" FOREIGN KEY ("ClienteId") REFERENCES "Clientes" ("Id") ON DELETE CASCADE
);
2024-09-25 14:27:54.379 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Vendas" (
    "Id" uuid NOT NULL,
    "Data" timestamp with time zone NOT NULL,
    "ClienteId" uuid NOT NULL,
    "Filial" text NOT NULL,
    "Cancelado" boolean NOT NULL,
    CONSTRAINT "PK_Vendas" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Vendas_Clientes_ClienteId" FOREIGN KEY ("ClienteId") REFERENCES "Clientes" ("Id") ON DELETE CASCADE
);
2024-09-25 14:27:54.380 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.381 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.381 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-25 14:27:54.382 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ItensVenda" (
    "Id" uuid NOT NULL,
    "Produto" text NOT NULL,
    "Quantidade" integer NOT NULL,
    "ValorUnitario" numeric NOT NULL,
    "Desconto" numeric NOT NULL,
    "VendaId" uuid,
    CONSTRAINT "PK_ItensVenda" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ItensVenda_Vendas_VendaId" FOREIGN KEY ("VendaId") REFERENCES "Vendas" ("Id")
);
2024-09-25 14:27:54.386 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ItensVenda" (
    "Id" uuid NOT NULL,
    "Produto" text NOT NULL,
    "Quantidade" integer NOT NULL,
    "ValorUnitario" numeric NOT NULL,
    "Desconto" numeric NOT NULL,
    "VendaId" uuid,
    CONSTRAINT "PK_ItensVenda" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ItensVenda_Vendas_VendaId" FOREIGN KEY ("VendaId") REFERENCES "Vendas" ("Id")
);
2024-09-25 14:27:54.387 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.388 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.390 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-09-25 14:27:54.391 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ItensVenda_VendaId" ON "ItensVenda" ("VendaId");
2024-09-25 14:27:54.393 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ItensVenda_VendaId" ON "ItensVenda" ("VendaId");
2024-09-25 14:27:54.394 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.394 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.395 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-25 14:27:54.395 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Vendas_ClienteId" ON "Vendas" ("ClienteId");
2024-09-25 14:27:54.398 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Vendas_ClienteId" ON "Vendas" ("ClienteId");
2024-09-25 14:27:54.398 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-25 14:27:54.399 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.399 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-25 14:27:54.400 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240925172153_InitialCreate', '8.0.8');
2024-09-25 14:27:54.401 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240925172153_InitialCreate', '8.0.8');
2024-09-25 14:27:54.403 -03:00 [DBG] Committing transaction.
2024-09-25 14:27:54.405 -03:00 [DBG] Committed transaction.
2024-09-25 14:27:54.406 -03:00 [DBG] Disposing transaction.
2024-09-25 14:27:54.406 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.407 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:27:54.408 -03:00 [DBG] 'AppDbContext' disposed.
2024-09-25 14:27:54.409 -03:00 [DBG] Disposing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:27:54.410 -03:00 [DBG] Disposed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 14:34:27.741 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:34:27.800 -03:00 [DBG] Hosting starting
2024-09-25 14:34:27.882 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:34:27.924 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:34:27.926 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:34:27.953 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:34:28.045 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:34:28.046 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:34:28.046 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:34:28.046 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:34:28.047 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:34:28.047 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:34:28.068 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:34:28.069 -03:00 [INF] Hosting environment: Development
2024-09-25 14:34:28.070 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:34:28.070 -03:00 [DBG] Hosting started
2024-09-25 14:34:28.084 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54254)
2024-09-25 14:34:28.105 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_1nkyyybnipcbdtu5bdqp5nnqnj?temporary=true"
2024-09-25 14:34:28.113 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:34:28.124 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:34:28.127 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:34:28.129 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:34:28.157 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:34:28.178 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-ynMpUNyY-vhPPVoPlWuQNQ
2024-09-25 14:34:28.179 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:34:28.180 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:34:28.235 -03:00 [DBG] Connection id "0HN6TH1788GL7" received FIN.
2024-09-25 14:34:28.235 -03:00 [DBG] Connection id "0HN6TH1788GL8" received FIN.
2024-09-25 14:34:28.238 -03:00 [DBG] Connection id "0HN6TH1788GL8" accepted.
2024-09-25 14:34:28.238 -03:00 [DBG] Connection id "0HN6TH1788GL7" accepted.
2024-09-25 14:34:28.239 -03:00 [DBG] Connection id "0HN6TH1788GL8" started.
2024-09-25 14:34:28.239 -03:00 [DBG] Connection id "0HN6TH1788GL7" started.
2024-09-25 14:34:28.247 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:34:28.247 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:34:28.257 -03:00 [DBG] Connection id "0HN6TH1788GL7" stopped.
2024-09-25 14:34:28.257 -03:00 [DBG] Connection id "0HN6TH1788GL8" stopped.
2024-09-25 14:34:28.259 -03:00 [DBG] Connection id "0HN6TH1788GL7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:34:28.259 -03:00 [DBG] Connection id "0HN6TH1788GL8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:34:28.408 -03:00 [DBG] Connection id "0HN6TH1788GL9" accepted.
2024-09-25 14:34:28.409 -03:00 [DBG] Connection id "0HN6TH1788GL9" started.
2024-09-25 14:34:28.430 -03:00 [DBG] Connection 0HN6TH1788GL9 established using the following protocol: "Tls13"
2024-09-25 14:34:28.454 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:34:28.492 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:34:28.501 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:34:28.502 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:34:28.525 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:34:28.526 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:34:28.534 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:34:28.535 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:34:28.536 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 85.8706ms
2024-09-25 14:34:28.539 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:34:28.539 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:34:28.544 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 5.5181ms
2024-09-25 14:34:28.559 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8269ms
2024-09-25 14:34:28.580 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:34:28.581 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:34:28.582 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:34:28.622 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.7445ms
2024-09-25 14:34:38.147 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7252/api/Venda - application/json 444
2024-09-25 14:34:38.150 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Venda'
2024-09-25 14:34:38.152 -03:00 [DBG] Endpoint 'Venda.API.Controllers.VendaController.CriarVenda (Venda.API)' with route pattern 'api/Venda' is valid for the request path '/api/Venda'
2024-09-25 14:34:38.153 -03:00 [DBG] Request matched endpoint 'Venda.API.Controllers.VendaController.CriarVenda (Venda.API)'
2024-09-25 14:34:38.155 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-25 14:34:38.156 -03:00 [INF] Executing endpoint 'Venda.API.Controllers.VendaController.CriarVenda (Venda.API)'
2024-09-25 14:34:38.167 -03:00 [INF] Route matched with {action = "CriarVenda", controller = "Venda"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarVenda(Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda], Venda.API.DTO.VendaDTO) on controller Venda.API.Controllers.VendaController (Venda.API).
2024-09-25 14:34:38.169 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-25 14:34:38.169 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-25 14:34:38.170 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-25 14:34:38.171 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-25 14:34:38.171 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-25 14:34:38.172 -03:00 [DBG] Executing controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 14:34:38.173 -03:00 [DBG] Executed controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 14:34:38.179 -03:00 [DBG] Attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 14:34:38.182 -03:00 [DBG] Done attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 14:34:38.182 -03:00 [DBG] Attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 14:34:38.183 -03:00 [DBG] Done attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 14:34:38.184 -03:00 [DBG] Attempting to bind parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO' ...
2024-09-25 14:34:38.185 -03:00 [DBG] Attempting to bind parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO' using the name '' in request data ...
2024-09-25 14:34:38.186 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-25 14:34:38.193 -03:00 [DBG] Connection id "0HN6TH1788GL9", Request id "0HN6TH1788GL9:00000009": started reading request body.
2024-09-25 14:34:38.193 -03:00 [DBG] Connection id "0HN6TH1788GL9", Request id "0HN6TH1788GL9:00000009": done reading request body.
2024-09-25 14:34:38.197 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Venda.API.DTO.VendaDTO'
2024-09-25 14:34:38.198 -03:00 [DBG] Done attempting to bind parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO'.
2024-09-25 14:34:38.198 -03:00 [DBG] Done attempting to bind parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO'.
2024-09-25 14:34:38.199 -03:00 [DBG] Attempting to validate the bound parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO' ...
2024-09-25 14:34:38.205 -03:00 [DBG] Done attempting to validate the bound parameter 'vendaDto' of type 'Venda.API.DTO.VendaDTO'.
2024-09-25 14:34:38.242 -03:00 [INF] Executed action Venda.API.Controllers.VendaController.CriarVenda (Venda.API) in 69.1986ms
2024-09-25 14:34:38.243 -03:00 [INF] Executed endpoint 'Venda.API.Controllers.VendaController.CriarVenda (Venda.API)'
2024-09-25 14:34:38.245 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: The method or operation is not implemented.
   at Venda.Data.Repositorios.V1.VendaRepositorio.AdicionarAsync(Venda venda) in C:\code\Venda\src\3-Data\Venda.Data\Repositorios\V1\VendaRepositorio.cs:line 13
   at Venda.Domain.Servicos.V1.VendaServico.CriarVendaAsync(Venda venda) in C:\code\Venda\src\2-Domain\Venda.Domain\Servicos\V1\VendaServico.cs:line 66
   at Venda.API.Controllers.VendaController.CriarVenda(IVendaServico`1 _vendaService, VendaDTO vendaDto) in C:\code\Venda\src\1-API\Venda.API\Controllers\VendaController.cs:line 16
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-25 14:34:38.259 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7252/api/Venda - 500 null text/plain; charset=utf-8 112.2209ms
2024-09-25 14:43:07.945 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:43:07.998 -03:00 [DBG] Hosting starting
2024-09-25 14:43:08.076 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:43:08.118 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:43:08.120 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:43:08.149 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:43:08.230 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:43:08.230 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:43:08.231 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:43:08.231 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:43:08.231 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:43:08.232 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:43:08.252 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:43:08.253 -03:00 [INF] Hosting environment: Development
2024-09-25 14:43:08.253 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:43:08.254 -03:00 [DBG] Hosting started
2024-09-25 14:43:08.256 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54379)
2024-09-25 14:43:08.309 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_qo4yyybnipcbnr84bdqp5ncrn4?temporary=true"
2024-09-25 14:43:08.321 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:43:08.340 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:43:08.343 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:43:08.345 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:43:08.373 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:43:08.395 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-vws6nxJwSMnvT0psAy_5TQ
2024-09-25 14:43:08.396 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:43:08.397 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:43:08.468 -03:00 [DBG] Connection id "0HN6TH629J1LR" received FIN.
2024-09-25 14:43:08.468 -03:00 [DBG] Connection id "0HN6TH629J1LS" received FIN.
2024-09-25 14:43:08.471 -03:00 [DBG] Connection id "0HN6TH629J1LR" accepted.
2024-09-25 14:43:08.471 -03:00 [DBG] Connection id "0HN6TH629J1LS" accepted.
2024-09-25 14:43:08.472 -03:00 [DBG] Connection id "0HN6TH629J1LR" started.
2024-09-25 14:43:08.472 -03:00 [DBG] Connection id "0HN6TH629J1LS" started.
2024-09-25 14:43:08.478 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:43:08.478 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:43:08.489 -03:00 [DBG] Connection id "0HN6TH629J1LR" stopped.
2024-09-25 14:43:08.489 -03:00 [DBG] Connection id "0HN6TH629J1LS" stopped.
2024-09-25 14:43:08.492 -03:00 [DBG] Connection id "0HN6TH629J1LS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:43:08.492 -03:00 [DBG] Connection id "0HN6TH629J1LR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:43:08.703 -03:00 [DBG] Connection id "0HN6TH629J1LT" accepted.
2024-09-25 14:43:08.704 -03:00 [DBG] Connection id "0HN6TH629J1LT" started.
2024-09-25 14:43:08.723 -03:00 [DBG] Connection 0HN6TH629J1LT established using the following protocol: "Tls13"
2024-09-25 14:43:08.749 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:43:08.787 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:43:08.795 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:43:08.796 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:43:08.819 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:43:08.820 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:43:08.828 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:43:08.829 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:43:08.830 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 84.509ms
2024-09-25 14:43:08.834 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:43:08.834 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:43:08.837 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.8205ms
2024-09-25 14:43:08.855 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.5813ms
2024-09-25 14:43:08.875 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:43:08.876 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:43:08.876 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:43:08.917 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.3766ms
2024-09-25 14:43:30.948 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 14:43:30.995 -03:00 [DBG] Hosting starting
2024-09-25 14:43:31.079 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 14:43:31.123 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 14:43:31.125 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 14:43:31.151 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 14:43:31.230 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 14:43:31.231 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 14:43:31.231 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 14:43:31.232 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 14:43:31.232 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 14:43:31.232 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 14:43:31.256 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 14:43:31.256 -03:00 [INF] Hosting environment: Development
2024-09-25 14:43:31.257 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 14:43:31.257 -03:00 [DBG] Hosting started
2024-09-25 14:43:31.266 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 54414)
2024-09-25 14:43:31.278 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_f1cyyybnipcbdqipbdqp5nc1yx?temporary=true"
2024-09-25 14:43:31.289 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 14:43:31.312 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 14:43:31.315 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 14:43:31.317 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 14:43:31.344 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 14:43:31.366 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-slFjBBCwFi19RyYERT4HAQ
2024-09-25 14:43:31.367 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 14:43:31.368 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 14:43:31.597 -03:00 [DBG] Connection id "0HN6TH6965LQQ" accepted.
2024-09-25 14:43:31.598 -03:00 [DBG] Connection id "0HN6TH6965LQQ" started.
2024-09-25 14:43:31.607 -03:00 [DBG] Connection id "0HN6TH6965LQR" accepted.
2024-09-25 14:43:31.608 -03:00 [DBG] Connection id "0HN6TH6965LQR" started.
2024-09-25 14:43:31.639 -03:00 [DBG] Connection id "0HN6TH6965LQQ" received FIN.
2024-09-25 14:43:31.639 -03:00 [DBG] Connection id "0HN6TH6965LQR" received FIN.
2024-09-25 14:43:31.644 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:43:31.644 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 14:43:31.653 -03:00 [DBG] Connection id "0HN6TH6965LQQ" stopped.
2024-09-25 14:43:31.653 -03:00 [DBG] Connection id "0HN6TH6965LQR" stopped.
2024-09-25 14:43:31.655 -03:00 [DBG] Connection id "0HN6TH6965LQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:43:31.655 -03:00 [DBG] Connection id "0HN6TH6965LQR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 14:43:31.816 -03:00 [DBG] Connection id "0HN6TH6965LQS" accepted.
2024-09-25 14:43:31.817 -03:00 [DBG] Connection id "0HN6TH6965LQS" started.
2024-09-25 14:43:31.833 -03:00 [DBG] Connection 0HN6TH6965LQS established using the following protocol: "Tls13"
2024-09-25 14:43:31.854 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 14:43:31.894 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 14:43:31.901 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 14:43:31.902 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:43:31.925 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 14:43:31.926 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 14:43:31.934 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 14:43:31.934 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 14:43:31.936 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 83.5997ms
2024-09-25 14:43:31.938 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 14:43:31.938 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 14:43:31.942 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 3.6663ms
2024-09-25 14:43:31.961 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.5223ms
2024-09-25 14:43:31.979 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 14:43:31.980 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 14:43:31.981 -03:00 [DBG] Request did not match any endpoints
2024-09-25 14:43:32.024 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.1077ms
2024-09-25 14:43:34.102 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/api/Venda - null null
2024-09-25 14:43:34.105 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Venda'
2024-09-25 14:43:34.107 -03:00 [DBG] Endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)' with route pattern 'api/Venda' is valid for the request path '/api/Venda'
2024-09-25 14:43:34.107 -03:00 [DBG] Request matched endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 14:43:34.109 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-25 14:43:34.111 -03:00 [INF] Executing endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 14:43:34.122 -03:00 [INF] Route matched with {action = "ObterVendas", controller = "Venda"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObterVendas(Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]) on controller Venda.API.Controllers.VendaController (Venda.API).
2024-09-25 14:43:34.123 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-25 14:43:34.123 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-25 14:43:34.124 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-25 14:43:34.125 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-25 14:43:34.125 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-25 14:43:34.127 -03:00 [DBG] Executing controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 14:43:34.127 -03:00 [DBG] Executed controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 14:43:34.134 -03:00 [DBG] Attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 14:43:34.199 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-25 14:43:34.208 -03:00 [DBG] Done attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 14:43:34.209 -03:00 [DBG] Attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 14:43:34.210 -03:00 [DBG] Done attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 14:43:34.432 -03:00 [DBG] The property 'ItemVenda.VendaId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:43:34.432 -03:00 [DBG] The property 'Venda.ClienteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 14:43:34.491 -03:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2024-09-25 14:43:34.504 -03:00 [DBG] Compiling query expression: 
'DbSet<Venda>()
    .Include(v => v.Cliente)
    .Include(v => v.Itens)'
2024-09-25 14:43:34.541 -03:00 [DBG] Including navigation: 'Venda.Cliente'.
2024-09-25 14:43:34.542 -03:00 [DBG] Including navigation: 'Venda.Itens'.
2024-09-25 14:43:34.630 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venda>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Venda.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Venda.Cancelado (bool) Required, 1], [Property: Venda.ClienteId (no field, Guid) Shadow Required FK Index, 2], [Property: Venda.Data (DateTime) Required, 3], [Property: Venda.Filial (string) Required, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Cliente.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Cliente.Nome (string) Required, 6] }
            2 -> 0
            3 -> 5
            4 -> Dictionary<IProperty, int> { [Property: ItemVenda.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ItemVenda.Desconto (decimal) Required, 8], [Property: ItemVenda.Produto (string) Required, 9], [Property: ItemVenda.Quantidade (int) Required, 10], [Property: ItemVenda.ValorUnitario (decimal) Required, 11], [Property: ItemVenda.VendaId (no field, Guid?) Shadow FK Index, 12] }
            5 -> 7
        SELECT v.Id, v.Cancelado, v.ClienteId, v.Data, v.Filial, c.Id, c.Nome, i.Id, i.Desconto, i.Produto, i.Quantidade, i.ValorUnitario, i.VendaId
        FROM Vendas AS v
        INNER JOIN Clientes AS c ON v.ClienteId == c.Id
        LEFT JOIN ItensVenda AS i ON v.Id == i.VendaId
        ORDER BY v.Id ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venda>, 
    Venda.Data.Contexto.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-25 14:43:34.645 -03:00 [DBG] Creating DbConnection.
2024-09-25 14:43:34.656 -03:00 [DBG] Created DbConnection. (10ms).
2024-09-25 14:43:34.658 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:43:34.707 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:43:34.709 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-25 14:43:34.712 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-25 14:43:34.713 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-25 14:43:34.717 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Cancelado", v."ClienteId", v."Data", v."Filial", c."Id", c."Nome", i."Id", i."Desconto", i."Produto", i."Quantidade", i."ValorUnitario", i."VendaId"
FROM "Vendas" AS v
INNER JOIN "Clientes" AS c ON v."ClienteId" = c."Id"
LEFT JOIN "ItensVenda" AS i ON v."Id" = i."VendaId"
ORDER BY v."Id", c."Id"
2024-09-25 14:43:34.731 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Cancelado", v."ClienteId", v."Data", v."Filial", c."Id", c."Nome", i."Id", i."Desconto", i."Produto", i."Quantidade", i."ValorUnitario", i."VendaId"
FROM "Vendas" AS v
INNER JOIN "Clientes" AS c ON v."ClienteId" = c."Id"
LEFT JOIN "ItensVenda" AS i ON v."Id" = i."VendaId"
ORDER BY v."Id", c."Id"
2024-09-25 14:43:34.736 -03:00 [DBG] Closing data reader to 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:43:34.740 -03:00 [DBG] A data reader for 'VendasDB' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2024-09-25 14:43:34.742 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:43:34.745 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (2ms).
2024-09-25 14:43:34.748 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-25 14:43:34.749 -03:00 [DBG] No information found on request to perform content negotiation.
2024-09-25 14:43:34.750 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-25 14:43:34.750 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-25 14:43:34.751 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-25 14:43:34.752 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Venda.Domain.Entidades.Venda, Venda.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-25 14:43:34.760 -03:00 [INF] Executed action Venda.API.Controllers.VendaController.ObterVendas (Venda.API) in 632.5396ms
2024-09-25 14:43:34.760 -03:00 [INF] Executed endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 14:43:34.762 -03:00 [DBG] 'AppDbContext' disposed.
2024-09-25 14:43:34.764 -03:00 [DBG] Disposing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 14:43:34.765 -03:00 [DBG] Disposed connection to database 'VendasDB' on server 'tcp://localhost:5432' (1ms).
2024-09-25 14:43:34.766 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/api/Venda - 200 null application/json; charset=utf-8 663.5989ms
2024-09-25 17:04:21.543 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-25 17:04:21.584 -03:00 [DBG] Hosting starting
2024-09-25 17:04:21.654 -03:00 [INF] Configured endpoint compra-criada-queue, Consumer: Venda.API.Consumidores.CompraCriada
2024-09-25 17:04:21.693 -03:00 [DBG] Starting bus instances: IBus
2024-09-25 17:04:21.695 -03:00 [DBG] Starting bus: "rabbitmq://localhost/"
2024-09-25 17:04:21.725 -03:00 [DBG] Connect: guest@localhost:5672/
2024-09-25 17:04:21.800 -03:00 [INF] Now listening on: https://localhost:7252
2024-09-25 17:04:21.801 -03:00 [INF] Now listening on: http://localhost:5193
2024-09-25 17:04:21.801 -03:00 [DBG] Loaded hosting startup assembly Venda.API
2024-09-25 17:04:21.801 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-09-25 17:04:21.802 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-25 17:04:21.802 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-25 17:04:21.823 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-25 17:04:21.823 -03:00 [INF] Hosting environment: Development
2024-09-25 17:04:21.824 -03:00 [DBG] Connected: guest@localhost:5672/ (address: amqp://localhost:5672, local: 56535)
2024-09-25 17:04:21.824 -03:00 [INF] Content root path: C:\code\Venda\src\1-API\Venda.API
2024-09-25 17:04:21.824 -03:00 [DBG] Hosting started
2024-09-25 17:04:21.840 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/R9_VendaAPI_bus_z1yoyybnipcbdei1bdqp58j689?temporary=true"
2024-09-25 17:04:21.845 -03:00 [DBG] Declare queue: name: compra-criada-queue, durable, consumer-count: 0 message-count: 0
2024-09-25 17:04:21.868 -03:00 [DBG] Declare exchange: name: compra-criada-queue, type: fanout, durable
2024-09-25 17:04:21.870 -03:00 [DBG] Declare exchange: name: Venda.Domain.Eventos.V1:CompraCriadaEvento, type: fanout, durable
2024-09-25 17:04:21.872 -03:00 [DBG] Bind queue: source: compra-criada-queue, destination: compra-criada-queue
2024-09-25 17:04:21.899 -03:00 [DBG] Bind exchange: source: Venda.Domain.Eventos.V1:CompraCriadaEvento, destination: compra-criada-queue
2024-09-25 17:04:21.920 -03:00 [DBG] Consumer Ok: "rabbitmq://localhost/compra-criada-queue" - amq.ctag-s3DmSefNfOkoFEUdsu_UuQ
2024-09-25 17:04:21.921 -03:00 [DBG] Endpoint Ready: "rabbitmq://localhost/compra-criada-queue"
2024-09-25 17:04:21.922 -03:00 [INF] Bus started: "rabbitmq://localhost/"
2024-09-25 17:04:22.261 -03:00 [DBG] Connection id "0HN6TJKVLVHTQ" received FIN.
2024-09-25 17:04:22.265 -03:00 [DBG] Connection id "0HN6TJKVLVHTQ" accepted.
2024-09-25 17:04:22.265 -03:00 [DBG] Connection id "0HN6TJKVLVHTQ" started.
2024-09-25 17:04:22.272 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-25 17:04:22.282 -03:00 [DBG] Connection id "0HN6TJKVLVHTQ" stopped.
2024-09-25 17:04:22.284 -03:00 [DBG] Connection id "0HN6TJKVLVHTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-25 17:04:22.425 -03:00 [DBG] Connection id "0HN6TJKVLVHTR" accepted.
2024-09-25 17:04:22.426 -03:00 [DBG] Connection id "0HN6TJKVLVHTR" started.
2024-09-25 17:04:22.445 -03:00 [DBG] Connection 0HN6TJKVLVHTR established using the following protocol: "Tls13"
2024-09-25 17:04:22.468 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/index.html - null null
2024-09-25 17:04:22.505 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-25 17:04:22.513 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-25 17:04:22.514 -03:00 [DBG] Request did not match any endpoints
2024-09-25 17:04:22.539 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-09-25 17:04:22.540 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-25 17:04:22.548 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-09-25 17:04:22.549 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-25 17:04:22.551 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/index.html - 200 null text/html;charset=utf-8 84.81ms
2024-09-25 17:04:22.553 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - null null
2024-09-25 17:04:22.553 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/_vs/browserLink - null null
2024-09-25 17:04:22.556 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_framework/aspnetcore-browser-refresh.js - 200 13754 application/javascript; charset=utf-8 4.0855ms
2024-09-25 17:04:22.577 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4943ms
2024-09-25 17:04:22.593 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - null null
2024-09-25 17:04:22.594 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-25 17:04:22.595 -03:00 [DBG] Request did not match any endpoints
2024-09-25 17:04:22.634 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.5406ms
2024-09-25 17:04:26.904 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7252/api/Venda - null null
2024-09-25 17:04:26.908 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Venda'
2024-09-25 17:04:26.910 -03:00 [DBG] Endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)' with route pattern 'api/Venda' is valid for the request path '/api/Venda'
2024-09-25 17:04:26.911 -03:00 [DBG] Request matched endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 17:04:26.913 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-25 17:04:26.914 -03:00 [INF] Executing endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 17:04:26.926 -03:00 [INF] Route matched with {action = "ObterVendas", controller = "Venda"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObterVendas(Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]) on controller Venda.API.Controllers.VendaController (Venda.API).
2024-09-25 17:04:26.927 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-25 17:04:26.928 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-25 17:04:26.929 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-25 17:04:26.930 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-25 17:04:26.930 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-25 17:04:26.931 -03:00 [DBG] Executing controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 17:04:26.932 -03:00 [DBG] Executed controller factory for controller Venda.API.Controllers.VendaController (Venda.API)
2024-09-25 17:04:26.939 -03:00 [DBG] Attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 17:04:27.185 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-25 17:04:27.196 -03:00 [DBG] Done attempting to bind parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 17:04:27.196 -03:00 [DBG] Attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]' ...
2024-09-25 17:04:27.198 -03:00 [DBG] Done attempting to validate the bound parameter '_vendaService' of type 'Venda.Domain.Interfaces.V1.Servicos.IVendaServico`1[Venda.Domain.Entidades.Venda]'.
2024-09-25 17:04:27.441 -03:00 [DBG] The property 'ItemVenda.VendaId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 17:04:27.442 -03:00 [DBG] The property 'Venda.ClienteId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-25 17:04:27.503 -03:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2024-09-25 17:04:27.516 -03:00 [DBG] Compiling query expression: 
'DbSet<Venda>()
    .Include(v => v.Cliente)
    .Include(v => v.Itens)'
2024-09-25 17:04:27.555 -03:00 [DBG] Including navigation: 'Venda.Cliente'.
2024-09-25 17:04:27.556 -03:00 [DBG] Including navigation: 'Venda.Itens'.
2024-09-25 17:04:27.645 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Venda>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Venda.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Venda.Cancelado (bool) Required, 1], [Property: Venda.ClienteId (no field, Guid) Shadow Required FK Index, 2], [Property: Venda.Data (DateTime) Required, 3], [Property: Venda.Filial (string) Required, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Cliente.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Cliente.Nome (string) Required, 6] }
            2 -> 0
            3 -> 5
            4 -> Dictionary<IProperty, int> { [Property: ItemVenda.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ItemVenda.Desconto (decimal) Required, 8], [Property: ItemVenda.Produto (string) Required, 9], [Property: ItemVenda.Quantidade (int) Required, 10], [Property: ItemVenda.ValorUnitario (decimal) Required, 11], [Property: ItemVenda.VendaId (no field, Guid?) Shadow FK Index, 12] }
            5 -> 7
        SELECT v.Id, v.Cancelado, v.ClienteId, v.Data, v.Filial, c.Id, c.Nome, i.Id, i.Desconto, i.Produto, i.Quantidade, i.ValorUnitario, i.VendaId
        FROM Vendas AS v
        INNER JOIN Clientes AS c ON v.ClienteId == c.Id
        LEFT JOIN ItensVenda AS i ON v.Id == i.VendaId
        ORDER BY v.Id ASC, c.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Venda>, 
    Venda.Data.Contexto.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-25 17:04:27.658 -03:00 [DBG] Creating DbConnection.
2024-09-25 17:04:27.669 -03:00 [DBG] Created DbConnection. (10ms).
2024-09-25 17:04:27.671 -03:00 [DBG] Opening connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 17:04:27.714 -03:00 [DBG] Opened connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 17:04:27.716 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-25 17:04:27.719 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-25 17:04:27.720 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-25 17:04:27.723 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Cancelado", v."ClienteId", v."Data", v."Filial", c."Id", c."Nome", i."Id", i."Desconto", i."Produto", i."Quantidade", i."ValorUnitario", i."VendaId"
FROM "Vendas" AS v
INNER JOIN "Clientes" AS c ON v."ClienteId" = c."Id"
LEFT JOIN "ItensVenda" AS i ON v."Id" = i."VendaId"
ORDER BY v."Id", c."Id"
2024-09-25 17:04:27.735 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT v."Id", v."Cancelado", v."ClienteId", v."Data", v."Filial", c."Id", c."Nome", i."Id", i."Desconto", i."Produto", i."Quantidade", i."ValorUnitario", i."VendaId"
FROM "Vendas" AS v
INNER JOIN "Clientes" AS c ON v."ClienteId" = c."Id"
LEFT JOIN "ItensVenda" AS i ON v."Id" = i."VendaId"
ORDER BY v."Id", c."Id"
2024-09-25 17:04:27.768 -03:00 [DBG] Context 'AppDbContext' started tracking 'Venda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.782 -03:00 [DBG] The navigation 'Venda.Cliente' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.784 -03:00 [DBG] Context 'AppDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.792 -03:00 [DBG] Context 'AppDbContext' started tracking 'ItemVenda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.799 -03:00 [DBG] Context 'AppDbContext' started tracking 'Venda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.800 -03:00 [DBG] The navigation 'Venda.Cliente' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.801 -03:00 [DBG] Context 'AppDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.801 -03:00 [DBG] Context 'AppDbContext' started tracking 'ItemVenda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.802 -03:00 [DBG] Context 'AppDbContext' started tracking 'Venda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.802 -03:00 [DBG] The navigation 'Venda.Cliente' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.803 -03:00 [DBG] Context 'AppDbContext' started tracking 'Cliente' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.803 -03:00 [DBG] Context 'AppDbContext' started tracking 'ItemVenda' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-25 17:04:27.806 -03:00 [DBG] Closing data reader to 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 17:04:27.809 -03:00 [DBG] A data reader for 'VendasDB' on server 'tcp://localhost:5432' is being disposed after spending 72ms reading results.
2024-09-25 17:04:27.812 -03:00 [DBG] Closing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 17:04:27.814 -03:00 [DBG] Closed connection to database 'VendasDB' on server 'tcp://localhost:5432' (2ms).
2024-09-25 17:04:27.816 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-25 17:04:27.818 -03:00 [DBG] No information found on request to perform content negotiation.
2024-09-25 17:04:27.818 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-25 17:04:27.819 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-25 17:04:27.819 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-25 17:04:27.820 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Venda.Domain.Entidades.Venda, Venda.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-25 17:04:27.831 -03:00 [INF] Executed action Venda.API.Controllers.VendaController.ObterVendas (Venda.API) in 898.7277ms
2024-09-25 17:04:27.832 -03:00 [INF] Executed endpoint 'Venda.API.Controllers.VendaController.ObterVendas (Venda.API)'
2024-09-25 17:04:27.833 -03:00 [DBG] 'AppDbContext' disposed.
2024-09-25 17:04:27.835 -03:00 [DBG] Disposing connection to database 'VendasDB' on server 'tcp://localhost:5432'.
2024-09-25 17:04:27.836 -03:00 [DBG] Disposed connection to database 'VendasDB' on server 'tcp://localhost:5432' (0ms).
2024-09-25 17:04:27.837 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7252/api/Venda - 200 null application/json; charset=utf-8 933.5744ms
